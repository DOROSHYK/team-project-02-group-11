{"version":3,"sources":["js/close-modal.js","js/serverAPI.js","index.js"],"names":["refs","closeBtn","document","querySelector","modalWindow","link","onCloseBtn","event","classList","remove","removeEventListener","onEscapeClose","code","add","addEventListener","window","ServerAPI","constructor","APIkey","baseURL","mediaType","page","language","keyWord","getPoularFilmList","fetch","then","response","ok","json","Error","catch","err","console","error","getFilmByKeyword","getFilmInfoById","id"],"mappings":";;;AA8CC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAAA,QAAA,cAAA,EAxBD,MAAMA,EAAO,CACTC,SAAUC,SAASC,cAAc,sBACnCC,YAAaF,SAASC,cAAc,aACpCE,KAAMH,SAASC,cAAc,iBAMxB,SAASG,EAAWC,GACvBP,EAAKI,YAAYI,UAAUC,OAAO,aAClCT,EAAKC,SAASS,oBAAoB,QAASJ,GAIxC,SAASK,EAAcJ,GAEP,WAAfA,EAAMK,MAENZ,EAAKI,YAAYI,UAAUK,IAAI,aAbvCb,EAAKK,KAAKS,iBAAiB,QAASR,GAEpCN,EAAKC,SAASa,iBAAiB,QAASR,GAMxCS,OAAOD,iBAAiB,UAAWH;;ACpCD,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAnB,MAASK,EACpBC,cACSC,KAAAA,OAAS,mCACTC,KAAAA,QAAU,gCACVC,KAAAA,UAAY,QACZC,KAAAA,KAAO,IACPC,KAAAA,SAAW,KACXC,KAAAA,QAAU,GAGnBC,oBACWC,OAAAA,SAAS,KAAKN,oCAAoC,KAAKD,eAAe,KAAKG,iBAAiB,KAAKC,YACnGI,KAAKC,IACCA,GAAAA,EAASC,GAAI,OAAOD,EAASE,OAC3B,MAAA,IAAIC,MAAM,yBAElBC,MAAMC,IACHC,QAAQC,MAAM,UAAWF,KAGrCG,iBAAiBZ,GAENE,OADFF,KAAAA,QAAUA,EACRE,SAAS,KAAKN,iBAAiB,KAAKC,qBAAqB,KAAKF,gBAAgBK,UAAgB,KAAKF,iBAAiB,KAAKC,YAC3HI,KAAKC,IACCA,GAAAA,EAASC,GAAI,OAAOD,EAASE,OAC3B,MAAA,IAAIC,MAAM,yBAElBC,MAAMC,IACHC,QAAQC,MAAM,UAAWF,KAGrCI,gBAAgBC,GACLZ,OAAAA,SAAS,KAAKN,UAAU,KAAKC,aAAaiB,aAAc,KAAKnB,mBAAmB,KAAKI,YACvFI,KAAKC,IACCA,GAAAA,EAASC,GAAI,OAAOD,EAASE,OAC3B,MAAA,IAAIC,MAAM,yBAElBC,MAAMC,IACHC,QAAQC,MAAM,UAAWF,MAtCP,QAAA,QAAA;;ACElC,aAFA,QAAA,oBACA,QAAA,uBACA,QAAA","file":"src.4a5dbe4f.js","sourceRoot":"../src","sourcesContent":["\n// const refs = {\n//     closeBtn: document.querySelector('[data-modal-close]'),\n//   modalWindow: document.querySelector('.backdrop'),\n  \n// }\n\n// refs.closeBtn.addEventListener('click', onCloseBtn);\n// export function onCloseBtn(event) {\n//     refs.modalWindow.classList.remove('is-hidden');\n//     refs.closeBtn.removeEventListener('click', onCloseBtn);\n// };\n\n// window.addEventListener('keydown', onEscapeClose);\n// export function onEscapeClose(event) {\n//     if (event.code === 'Escape') {\n//         onCloseBtn()\n//     };\n//     window.removeEventListener('keydown', onEscapeClose);\n// };\n\n\nconst refs = {\n    closeBtn: document.querySelector('[data-modal-close]'),\n  modalWindow: document.querySelector('.backdrop'),\n  link: document.querySelector('.footer_link'),\n}\n\nrefs.link.addEventListener('click', onCloseBtn)\n\nrefs.closeBtn.addEventListener('click', onCloseBtn);\nexport function onCloseBtn(event) {\n    refs.modalWindow.classList.remove('is-hidden');\n    refs.closeBtn.removeEventListener('click', onCloseBtn);\n};\n\nwindow.addEventListener('keydown', onEscapeClose);\nexport function onEscapeClose(event) {\n    \n    if (event.code === 'Escape') {\n        // return on.CloseBtn()\n        refs.modalWindow.classList.add('is-hidden'); \n    };\n    \n    \n    // window.removeEventListener('keydown', onEscapeClose);\n};\n\n","export default class    ServerAPI {\n    constructor() {\n        this.APIkey = 'fd6eb8c46328921cf1133ef8e877d946';\n        this.baseURL = 'https://api.themoviedb.org/3/';\n        this.mediaType = 'movie';\n        this.page = '1';\n        this.language = 'en';\n        this.keyWord = '';\n\n    }\n    getPoularFilmList() {\n        return fetch(`${this.baseURL}trending/all/week?api_key=${this.APIkey}&page=${this.page}&language=${this.language}`)\n            .then(response => {\n               if (response.ok) return response.json();\n               throw new Error(\"Error fetching data\");\n            })\n            .catch(err => {\n                console.error(\"Error: \", err);\n            }); \n    }\n    getFilmByKeyword(keyWord) {\n        this.keyWord = keyWord;\n        return fetch(`${this.baseURL}search/${this.mediaType}?api_key=${this.APIkey}&query=${keyWord}&page=${this.page}&language=${this.language}`)\n            .then(response => {\n               if (response.ok) return response.json();\n               throw new Error(\"Error fetching data\");\n            })\n            .catch(err => {\n                console.error(\"Error: \", err);\n            }); \n    }\n    getFilmInfoById(id) {\n        return fetch(`${this.baseURL}${this.mediaType}/${id}?api_key=${this.APIkey}&language=${this.language}`)\n            .then(response => {\n               if (response.ok) return response.json();\n               throw new Error(\"Error fetching data\");\n            })\n            .catch(err => {\n                console.error(\"Error: \", err);\n            }); \n    }\n\n    \n}","import './sass/main.scss';\nimport './js/close-modal.js';\nimport './js/serverAPI.js';"]}